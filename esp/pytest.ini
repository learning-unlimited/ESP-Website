[pytest]
DJANGO_SETTINGS_MODULE = esp.settings

# Match all test file naming conventions used in this project:
#   tests.py              — top-level per-app test files
#   test_*.py             — autoscheduler and other test_ prefixed files
#   *_tests.py            — not currently used but conventional
#   program/modules/tests/*.py — module test files without test_ prefix
python_files = tests.py test_*.py *_tests.py
python_classes = Test* *Test
python_functions = test_*

# Collect tests from the modules/tests directories even without test_ prefix
addopts = --strict-markers
markers =
    selenium: marks tests as selenium integration tests (deselect with '-m "not selenium"')

# Suppress deprecation warnings from third-party packages (pytz, argcache)
# to keep output readable; project warnings are still shown.
filterwarnings =
    ignore::DeprecationWarning:pytz
    ignore::DeprecationWarning:argcache
    ignore::django.utils.deprecation.RemovedInDjango31Warning

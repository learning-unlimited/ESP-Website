{% extends "main.html" %}

{% block stylesheets %}
    {{ block.super }}
	<link rel="stylesheet" type="text/css" href="/media/default_styles/customforms-form.css">
{% endblock %}	

{% block javascript %}
	<script src="/media/scripts/jquery-1.5.1.min.js"></script>
	<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.8.1/jquery.validate.min.js" type="text/javascript"></script>
	<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.8.1/additional-methods.min.js" type="text/javascript"></script>
	<script src="/media/scripts/customforms-validation.js"></script>
	<script src="/media/scripts/qtip.js"></script>
{% endblock %}

{% block content %}
	<h3 class="form_title">{{form_title}}</h3>
	<p class="form_desc">{{form_description}}</p>
	<p class="step_count">Step {{ step }} of {{ step_count }}</p>
	<p class="req_text">(Fields with a green border are required)</p>
	
	<form action="." method="post" id="cstform">{% csrf_token %}
	{% if form.non_field_errors %}{{ form.non_field_errors }}{% endif %}
	{% for fieldset in form.fieldsets %}
	  <fieldset class="{{ fieldset.classes }}">
	  {% if fieldset.legend %}
	    <h2 class="sect_title">{{ fieldset.legend }}</h2>
	  {% endif %}
	  {% if fieldset.description %}
	    <p class="sect_desc">{{ fieldset.description }}</p>
	  {% endif %}
	  <hr/>
	  <div class="field_list">
	  {% for field in fieldset %}
	    {% if field.is_hidden %}
	      {{ field }}
	    {% else %}
	      <p{{ field.row_attrs }}>
	        {{ field.errors }}
			{% if field.help_text %}
				<img src="/media/default_images/question_mark.jpg" class="qmark" title="{{field.help_text}}">
			{% endif %}
			{{ field.label_tag }}
	        {{ field }}
	      </p>
	    {% endif %}
	  {% endfor %}
	  </div>
	  </fieldset>
	{% endfor %}
	<input type="hidden" name="{{ step_field }}" value="{{ step0 }}" />
	{{ previous_fields|safe }}
	<input type="submit">
	</form>
{% endblock %}	
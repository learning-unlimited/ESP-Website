<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" type="text/css" href="/media/styles/webapp.css" />
</head>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<body>

<div class="navbar">
  <table>
    <tr>
      <td class="selected"><a class="no-dec" href="/learn/{{one}}/{{two}}/studentonsite/" style="display:block;"><i class="material-icons md-5">event_note</i>
        <br>Schedule</td>
      <td><a class="no-dec" href="/learn/{{one}}/{{two}}/onsitemap" style="display:block;"><i class="material-icons md-5">map</i>
        <br>Map</a></td>
      <td><a class="no-dec" href="/learn/{{one}}/{{two}}/onsitecatalog" style="display:block;"><i class="material-icons md-5">event</i>
        <br>Catalog</td>
      <td><a class="no-dec" href="/learn/{{one}}/{{two}}/onsitesurvey" style="display:block;"><i class="material-icons md-5">question_answer</i>
        <br>Survey</td>
    </tr>
  </table>
</div>

<center>

  <div class="main">
    <table class="studentschedule">
      <tbody>
        <th colspan="4">
            <i>Classes for {{user.first_name}} {{user.last_name}} - ID: {{user.id}}</i>
        </th>
        {% for timeslot in timeslots %}
        {% ifchanged timeslot.0.start.day %}
            <tr>
                <th colspan="4">{{ timeslot.0.pretty_date }}</th>
            </tr>
        {% endifchanged %}
        <tr>
            {% with timeslot.1.0 as cls %}
                <td class="time">{{ timeslot.0.short_time }}</td>
                <td class="cls">
                {% if cls %}
                    <!--link to course details?-->
                    {{ cls.section.title }}{% if not cls.first_meeting_time %} <b>(continued)</b>{% endif %}
                {% else %}
                    No class
                {% endif %}
                </td>
                <td class="location">
                    <!--link to map focused on location?-->
                    {% if checked_in %}
                        {{ cls.section.prettyrooms|join:", " }}
                    {% endif %}
                </td>
                <td class="edit">
                    {% if checked_in %}
                        <!--link to filtered course catalog like the fillslot page-->
                        <a class="no-dec" href="/learn/{{one}}/{{two}}/onsitecatalog/{{timeslot.0.id}}"><i class="material-icons md-5">{% if cls %}mode_edit{% else %}add{% endif %}</i></a>
                    {% else %}
                        <!--otherwise, grey out icon-->
                        <i class="material-icons md-5 greyed">{% if cls %}mode_edit{% else %}add{% endif %}</i>
                    {% endif %}
                </td>
            {% endwith %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  
</center>

</body>
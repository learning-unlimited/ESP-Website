{% autoescape off %}
\documentclass[letterpaper,12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{multicol}
\usepackage{fancyhdr}
\usepackage{pst-barcode}
\usepackage{textpos}
\usepackage{tabularx}
\usepackage{amsfonts, amsmath, amsthm, amssymb}
\usepackage[left=.5in,top=1cm,right=.5in]{geometry}

\pagestyle{fancy}
\fancyhead[C]{Insert Fancy Header Here}
\setlength\headheight{42pt}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt} 
\fancyfoot{}

\begin{document}
{% for student in students %}
\begin{multicols}{3}

\begin{center}
\vspace{1cm}
\begin{tabular}{ c }
Amount Owed: \\
\fbox{\textbf{ \${{ student.itemizedcosttotal|floatformat:"-2" }} } } \\
\end{tabular}

\vspace{0.5cm}

\begin{tabular}{ | c | }
{% for item in student.meals %}\hline
{{ item.li_type.text|texescape }} \\
{% endfor %}\hline
\end{tabular}

\end{center}

\columnbreak
\begin{center}
$ $ \\
\vspace{0.5cm}
Student Schedule for \\
\vspace{0.5cm}

{\setlength{\baselineskip}{1.5\baselineskip} \LARGE \textbf{ {{ student.name|texescape }} } }
\end{center}

\columnbreak

\begin{flushleft}
\textbf{
Name: {{ student.name|texescape }} \\
Username: {{ student.username|texescape }} \\
User ID: {{ student.id }} \\
}
\end{flushleft}

\end{multicols}

\begin{center}

\vspace{1cm}

For help finding your classrooms, please consult the directions and map on your Student Info sheet. \\
If you have any questions or would like to switch classes, please go to the program office. \\

\vspace{1cm}

{\large \textbf{Schedule} \\}

\vspace{0.25cm}

\begin{tabularx}{20cm}{|l|c|lX|X|}
\hline
\textbf{Time} & \textbf{Room} & \textbf{Class} & & \textbf{Teacher(s)} \\
{% for cls in student.classes %}\hline
{{ cls.friendly_times|join:", " }} & {% if cls.initial_rooms|length_is:0 %}N/A{% else %}{{ cls.prettyrooms|join:", "|texescape }}{% endif %} & \texttt{ {{ cls.emailcode }} } : & {{ cls.title|texescape }} & {{ cls.parent_class.getTeacherNames|join:", "|texescape }} \\ 
{% endfor %}\hline
\end{tabularx}

\end{center}

\vfill
\begin{pspicture}(3.0, 0.5in)
\psbarcode{% templatetag openbrace %}{{ student.id|stringformat:"08d" }}{% templatetag closebrace %}{includetext height=0.4}{upce}
\end{pspicture}
\vspace{1cm}
{% if not forloop.last %}\pagebreak{% endif %}
{% endfor %}

\end{document}
{% endautoescape %}

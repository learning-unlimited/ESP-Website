{% extends "main.html" %}

{% block title %}{{program.niceName}} Printables{% endblock %}

{% block stylesheets %}
    {{ block.super }}
    <link rel="stylesheet" href="/media/styles/printoptions.css" type="text/css" />
    <link rel="stylesheet" href="/media/styles/management.css" type="text/css">
{% endblock %}

{% block javascript %}
    {{ block.super }}
    <script>
    $j(function () {
        $j("#class_list_options :input").on("change", function (){
            // Get user-selected options
            var fields = $j("#class_list_options :input");
            var get = "";
            // Create GET string
            fields.each(function (index, element) {
                var val = $j(this).val();
                if (val != "") {
                    if (get != "" & get.charAt(get.length - 1) != "&") {
                        get += "&";
                    }
                    get += val;
                }
            });
            // Add GET string to all links
            $j("#class_lists a").each(function (){
                var base_url = $j(this).attr('href').split('?')[0];
                $j(this).attr('href', base_url + "?" + get)
            });
        });
    });
    </script>
{% endblock %}

{% block content %}
{% load modules %}
{% load line_item_option %}

<h1>Printables for {{program.niceName}}</h1>

<p style="text-align: center">
Using this tool you can generate some printables for your program.<br />
Please select from options below.
</p>

{% include "program/modules/admincore/returnlink.html" %}

<div class="module_group" id="module_group_1">
    <div class="module_group_header">
        Schedules and Nametags
    </div>
    <div class="button_wrapper">
        <div class="module_button">
            <a href="./studentschedules/pdf/?recipient_type=Student&base_list=enrolled" title="Student Schedules (PDF)">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-duplicate"></i> Student Schedules (PDF)</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./studentschedules/tex/?recipient_type=Student&base_list=enrolled" title="Student Schedules (TEX)">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-duplicate"></i> Student Schedules (TEX)</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./studentschedules/svg/?recipient_type=Student&base_list=enrolled" title="Student Schedules (SVG)">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-file"></i> Student Schedules (SVG)</div>
                    <div class="module_link_caption">(1 schedule max)</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./studentschedules/png/?recipient_type=Student&base_list=enrolled" title="Student Schedules (PNG)">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-file"></i> Student Schedules (PNG)</div>
                    <div class="module_link_caption">(1 schedule max)</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="/manage/{{ program.getUrlBase }}/studentscheduleform" title="PDF Student Schedule Formatter">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-edit"></i> Student Schedule Formatter</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./flatstudentschedules?recipient_type=Student&base_list=enrolled" title="Flat Student Schedules">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-th"></i> Flat Student Schedules</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./teacherschedules?recipient_type=Teacher&base_list=class_approved" title="Teacher Schedules">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-duplicate"></i> Teacher Schedules</div>
                </button>
            </a>
        </div>
        {% if program|hasModule:"TeacherModeratorModule" %}
        <div class="module_button">
            <a href="./moderatorschedules?recipient_type=Teacher&base_list=assigned_moderator" title="{{ program.getModeratorTitle }} Schedules">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-duplicate"></i> {{ program.getModeratorTitle }} Schedules</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./teachermoderatorschedules?combo_base_list=Teacher:class_approved&checkbox_or_assigned_moderator#tab_combo" title="Teacher and Moderator Schedules">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-duplicate"></i> Combined Teacher and {{ program.getModeratorTitle }} Schedules</div>
                </button>
            </a>
        </div>
        {% endif %}
        <div class="module_button">
            <a href="./volunteerschedules?recipient_type=Volunteer&base_list=volunteer_all" title="Volunteer Schedules">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-duplicate"></i> Volunteer Schedules</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./roomschedules" title="Room Schedules">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-list-alt"></i> Room Schedules</div>
                </button>
            </a>
        </div>
        {% if program|hasModule:"TeacherModeratorModule" %}
        <div class="module_button">
            <a href="./moderator_rooms_spr" title="Complete Moderator Schedule by Room">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-th"></i> Complete Moderator Schedule by Room</div>
                    <div class="module_link_caption">(CSV format)</div>
                </button>
            </a>
        </div>
        {% endif %}
        <div class="module_button">
            <a href="/manage/{{ program.getUrlBase }}/selectidoptions" title="Nametags">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-modal-window"></i> Nametags</div>
                </button>
            </a>
        </div>
    </div>
</div>

<div class="module_group" id="module_group_1">
    <div class="module_group_header">
        Student Lists
    </div>
    <div class="button_wrapper">
        <div class="module_button">
            <a href="./classrosters?recipient_type=Teacher&base_list=class_approved" title="Class Rosters by Teachers">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-list-alt"></i> Class Rosters by Teachers</div>
                </button>
            </a>
        </div>
        {% if program|hasModule:"TeacherModeratorModule" %}
        <div class="module_button">
            <a href="./classrostersbymoderator?recipient_type=Teacher&base_list=assigned_moderator" title="Class Rosters by {{ program.getModeratorTitle }}s">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-list-alt"></i> Class Rosters by {{ program.getModeratorTitle }}s</div>
                </button>
            </a>
        </div>
        {% endif %}
        <div class="module_button">
            <a href="./classrosters/attendance?recipient_type=Teacher&base_list=class_approved" title="Attendance Sheets by Teachers">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-list-alt"></i> Attendance Sheets by Teachers</div>
                </button>
            </a>
        </div>
        {% if program|hasModule:"TeacherModeratorModule" %}
        <div class="module_button">
            <a href="./classrostersbymoderator/attendance?recipient_type=Teacher&base_list=assigned_moderator" title="Attendance Sheets by {{ program.getModeratorTitle }}s">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-list-alt"></i> Attendance Sheets by {{ program.getModeratorTitle }}s</div>
                </button>
            </a>
        </div>
        {% endif %}
        <div class="module_button">
            <a href="./classchecklists" title="Class Checlists">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-check"></i> Class Checklists</div>
                    <div class="module_link_caption">(all confirmed students)</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./studentchecklist?recipient_type=Student&base_list=enrolled" title="Student Checklist">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-check"></i> Student Checklist</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./student_financial_spreadsheet?recipient_type=Student&base_list=enrolled" title="Student Financial Spreadsheet">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-th"></i> Student Financial Spreadsheet</div>
                    <div class="module_link_caption">(used by the check-scanning app)</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./studentsbyname?recipient_type=Student&base_list=enrolled" title="Students by Name">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-th-list"></i> Students by Name</div>
                </button>
            </a>
        </div>
        <div class="module_button">
            <a href="./emergencycontacts?recipient_type=Student&base_list=enrolled" title="Students' Emergency Contact Info">
                <button type="button" class="module_link_large">
                    <div class="module_link_main"><i class="glyphicon glyphicon-phone"></i> Students' Emergency Contact Info</div>
                </button>
            </a>
        </div>
    </div>
</div>

{% if not li_types|length_is:0 %}
<h3>Students who have ordered/reserved line items:</h3>
<ul>
{% for li_type in li_types %}
    <li><a href="./selectList?recipient_type=Student&base_list=extracosts_{{ li_type.id }}">{{ li_type.text }}</a>{% if li_type.options %}:{% for option in li_type.options %} <a href="./selectList?recipient_type=Student&base_list=extracosts_{{ li_type.id }}_{{ option|id }}">{{ option|description }}</a>{% endfor %}
    {% endif %}</li>
{% endfor %}
</ul>
{% endif %}

<br>
<h3 style="line-height:normal;">Teacher{% if program|hasModule:"TeacherModeratorModule" %} and/or {{ program.getModeratorTitle }}{% endif %} Check-in Sheets</h3>
<h4 style="line-height:normal;">(filtered to Teachers{% if program|hasModule:"TeacherModeratorModule" %}/{{ program.getModeratorTitle }}s{% endif %} of approved and scheduled classes)</h4>
<br>
<ul>
<li><a href="./teachersbyname?recipient_type=Teacher&base_list=class_approved" title="Teacher List">Teacher List</a> (can be sorted by name, class, or start time) (<a href="./teachersbyname/csv?recipient_type=Teacher&base_list=class_approved">CSV</a>)
<ul><li><a href="./teachersbyname/secondday?recipient_type=Teacher&base_list=class_approved">Teachers for second day of classes only</a> (<a href="./teachersbyname/seconddaycsv?recipient_type=Teacher&base_list=class_approved">CSV</a>)</li></ul></li>
</ul>
{% if program|hasModule:"TeacherModeratorModule" %}
    <ul>
    <li><a href="./teachermoderatorsbyname?combo_base_list=Teacher:class_approved&checkbox_or_assigned_moderator#tab_combo" title="Teacher and Moderator List">Combined Teacher and {{ program.getModeratorTitle }} List</a> (can be sorted by name, class, or start time) (<a href="./teachermoderatorsbyname/csv?combo_base_list=Teacher:class_approved&checkbox_or_assigned_moderator#tab_combo">CSV</a>)
    <ul><li><a href="./teachermoderatorsbyname/secondday?combo_base_list=Teacher:class_approved&checkbox_or_assigned_moderator#tab_combo">{{ program.getModeratorTitle }}s and teachers for second day of classes only</a> (<a href="./teachermoderatorsbyname/seconddaycsv?combo_base_list=Teacher:class_approved&checkbox_or_assigned_moderator#tab_combo">CSV</a>)</li></ul></li>
    </ul>
    <ul>
    <li><a href="./moderatorsbyname?recipient_type=Teacher&base_list=assigned_moderator" title="Moderator List">{{ program.getModeratorTitle }} List</a> (can be sorted by name, class, or start time) (<a href="./moderatorsbyname/csv?recipient_type=Teacher&base_list=assigned_moderator">CSV</a>)
    <ul><li><a href="./moderatorsbyname/secondday?recipient_type=Teacher&base_list=assigned_moderator">{{ program.getModeratorTitle }}s for second day of classes only</a> (<a href="./moderatorsbyname/seconddaycsv?recipient_type=Teacher&base_list=assigned_moderator">CSV</a>)</li></ul></li>
    </ul>
{% endif %}

<h3>Receipts</h3>
<ul>
<li><a href="./certificate?recipient_type=Student&base_list=enrolled" title="Completion Certificate">Completion Certificate</a> (by students)</li>
<li><a href="./paid_list_filter" title="Purchase Lists">Lists of Purchased Items</a></li>
</ul>

<h3>Class and Section Lists</h3>
<div id="class_list_options">
    <div>
        <div>Class Status:</div>
        <select id="class_status">
            <option value="all">Any</option>
            <option value="accepted">Accepted</option>
            <option value="" selected>Accepted/Unreviewed</option>
            <option value="cancelled">Cancelled</option>
        </select>
    </div>
    <div>
        <div>Scheduling Status:</div>
        <select id="sched_status">
            <option value="" selected>Any</option>
            <option value="scheduled">Scheduled</option>
        </select>
    </div>
    <div class="grade_grid">
        <div>Grade Min:</div>
        <select id="grade_min">
            {% for grade in program.grades %}
                <option value="grade_min={{ grade }}"{% if forloop.first %} selected{% endif %}>{{ grade }}</option>
            {% endfor %}
        </select>
        <div>Grade Max:</div>
        <select id="grade_max">
            {% for grade in program.grades %}
                <option value="grade_max={{ grade }}"{% if forloop.last %} selected{% endif %}>{{ grade }}</option>
            {% endfor %}
        </select>
    </div>
    <div>
        <div>Output as:</div>
        <select id="output_type">
            <option value="" selected>Web page</option>
            <option value="csv">CSV</option>
        </select>
    </div>
</div>

<div id="class_lists">
<div><a href="./classesbytime" title="Classes by Time"><button type="button">Class Sections Sorted by Time</button></a></div>
<div><a href="./classesbyid" title="Classes by ID"><button type="button">Class Subjects Sorted by ID</button></a></div>
<div><a href="./classesbytitle" title="Classes by Name"><button type="button">Class Subjects Sorted by Title</button></a></div>
<div><a href="./classesbyteacher" title="Classes by Teacher"><button type="button">Class Subjects Sorted by Teacher</button></a></div>
</div>

<h3>Other Printables</h3>
<ul>
<li><a href="./catalog" title="Course Catalog">Course Catalog</a></li>
<li><a href="./roomsbytime" title="Room List">Open Rooms by Time</a></li>
<li>Meal tickets (by students): <a href="./student_tickets/3" title="Meal Tickets">3 lines</a> <a href="./student_tickets/4" title="Meal Tickets">4 lines</a> <a href="./student_tickets/5" title="Meal Tickets">5 lines</a> <a href="./student_tickets/6" title="Meal Tickets">6 lines</a> <a href="./student_tickets/7" title="Meal Tickets">7 lines</a> </li>
<li><a href="./onsiteregform" title="On-Site Reg Form">On-Site Reg Form</a></li>
<li><a href="./all_classes_spreadsheet" title="All Classes Spreadsheet">All Classes Spreadsheet</a> (CSV format; opens in most spreadsheet programs)</li>
<li><a href="./oktimes_spr" title="Viable Times for Classes">Viable Times for Sections Spreadsheet</a> (CSV format; 'X' indicates a viable time)</li>
<li><a href="./classpopularity" title="Class Popularity">Class Subject Popularity</a></li>
<li><a href="./classflagdetails" title="Class Flags">Class Flags</a> (<a href="./classflagdetails?comments">with comments</a>)</li>
</ul>
<br /><br />
{% load render_qsd %}
{% inline_program_qsd_block program "manage:printables" %}

{% end_inline_program_qsd_block %}

{% endblock %}

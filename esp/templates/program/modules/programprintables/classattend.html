{% load users %}

{% for sec in item.cls.sections.all %} 
<div style="page-break-after: always;">&nbsp;</div>
<div class="classroster">
  <div class="classtitle">Attendance for <br />
  {{ sec }}

  <br />
    {% now "M j, Y" %}
</div>

  <table align="center" cellspacing="0" cellpadding="0">
  <tr>
   <td>
      <b>Time:</b>  <div class="blocks">{{ sec.friendly_times|join:"<br />" }}</div>
   </td>
   <td>
      <b>Room:</b> <div class="classroom">{{ sec.prettyrooms|join:"<br />" }}</div>
   </td>
  </tr>
  </table>
  <br />
  <div class="teachername"><span>Teacher:  {{ item.teacher.name }}</span></div>
  <br />
  <div class="teachername">Class Email: &nbsp; &nbsp; <tt>{{ sec.emailcode }}-class@{{ EMAIL_HOST_SENDER }}</tt><br />
Students Email: &nbsp; &nbsp; <tt>{{ sec.emailcode }}-students@{{ EMAIL_HOST_SENDER }}</tt>
  </div>
  <br />
  <br />
  <table align="center" class="pretty" cellspacing="0" cellpadding="3px">
    <tr>
      <th colspan="5" align="center">Students</th>
    </tr>
    <tr>
      <th>#</th>
      <th>Here?</th>
      <th>Student ID</th>
      <th>Student Name</th>
      <th>Grade</th>
    </tr>{% for student in sec.students %}
    <tr>
      <td align="right">{{ forloop.counter }}</td>
      <td><div style="width: 15px; height: 15px; border: solid black 2px;">&nbsp;</div></td>
      <td>{{ student.id }}</td>
      <td>{{ student.name }}</td>
      <td>
          {{ student|getGradeForProg:program.id }}</td>
    </tr>
    {% endfor %}
    <tr>
      <td>&nbsp; </td>
      <td><div style="width: 15px; height: 15px; border: solid black 2px;">&nbsp;</div></td>
      <th colspan="3">  
          <center><div style="padding: 3px; border: solid black 2px; border-width: 0 0 1px 0; width:80%;">&nbsp;</div></center>
      </th>
    </tr>
    <tr>
      <td>&nbsp; </td>
      <td><div style="width: 15px; height: 15px; border: solid black 2px;">&nbsp;</div></td>
      <th colspan="3">  
          <center><div style="padding: 3px; border: solid black 2px; border-width: 0 0 1px 0; width:80%;">&nbsp;</div></center>
      </th>
    </tr>
    <tr>
      <td>&nbsp; </td>
      <td><div style="width: 15px; height: 15px; border: solid black 2px;">&nbsp;</div></td>
      <th colspan="3">  
          <center><div style="padding: 3px; border: solid black 2px; border-width: 0 0 1px 0; width:80%;">&nbsp;</div></center>
      </th>
    </tr>
    <tr>
      <td>&nbsp; </td>
      <td><div style="width: 15px; height: 15px; border: solid black 2px;">&nbsp;</div></td>
      <th colspan="3">  
          <center><div style="padding: 3px; border: solid black 2px; border-width: 0 0 1px 0; width:80%;">&nbsp;</div></center>
      </th>
    </tr>
    <tr>
      <td>&nbsp; </td>
      <td><div style="width: 15px; height: 15px; border: solid black 2px;">&nbsp;</div></td>
      <th colspan="3">  
          <center><div style="padding: 3px; border: solid black 2px; border-width: 0 0 1px 0; width:80%;">&nbsp;</div></center>
      </th>
    </tr>
  </table>

</div>

<br />
{% endfor %}

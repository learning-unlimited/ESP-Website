{% extends "main.html" %}

{% load i18n %}
{% load render_qsd %}

{% block title %}{{program.niceName}} {% trans "Registration" %}{% endblock %}

{% block xtrajs %}
<script type="text/javascript">
<!--
function updateDonationOnPage(donationAmount) {
    //  Tell the server about our change in preferences
    $j.ajax("/json/{{ program.url }}/set_donation_amount", {
        async: false,
        data: {
            "amount": donationAmount,
            "csrfmiddlewaretoken": csrf_token()
        },
        type: "POST",
		dataType: "json",
    });
}

function toggleDonationAmount() {
    var donationAmount = parseFloat($j(this).val());
    if (donationAmount == -1) {
        $j('#custom_amount_section').removeClass('hide')
    } else {
        $j('#custom_amount_section').addClass('hide')
    }

}

$j(document).ready(function () {
    $j("input:radio[name='amount_donation']").click(toggleDonationAmount);
});
-->
</script>
{% endblock %}

{% block content %}
<style type="text/css">

#custom_amount_section {
    text-align: center;
}

label input {
    display: inline-block;
}

#donation_choices_wrapper > ul {
    list-style: none;
}

</style>
<div class="row">
  <div class="span7">
 
    <h1>{% trans "Optional Donation for " %}{{ program.niceName }}</h1>
    {{form.errors}}
    <form method="post">
        {% inline_program_qsd_block program "learningu_donation" %}
        {% trans "Please support " %}<a href="http://www.learningu.org/about" target="_blank">{% trans "Learning Unlimited" %}</a> {% trans "with an additional donation. Learning Unlimited supports " %}{{ institution }} {% trans "and dozens of other Splashes with mentoring and maintains this website. Your gift helps start new Splashes and provide support to existing ones across the country." %}
        {% end_inline_program_qsd_block %}
        <div id="donation_choices_wrapper">
            <h3>{% trans "Donation amount:" %}</h3>
                {{form.amount_donation}}
                <div id="custom_amount_section" class="alert hide">
                {{form.custom_amount}}
                </div>
    
            <div class="btn-group text-center">
                 <button type="submit" id="id_submit_donation" class="btn btn-default">Submit</button>
            </div>
            
        </div>
    </form>
    <br />
    <p>{% trans "Your choice here is automatically saved." %} <a href="/learn/{{ program.getUrlBase }}/studentreg" title="Return to main registration page">{% trans "Click here" %}</a> {% trans "to return to the main registration page" %}.</p>

  </div>
</div>

{% endblock %}


{% extends "main.html" %}
{% load render_qsd %}
{% load users %}

{% block title %} Manage Phase Zero for {{program.niceName}} {% endblock %}

{% block stylesheets %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="/media/styles/forms.css" />

<style>
#highcharts-placeholder {
  width: 100%;
  height: 250px;
}
table {
    border-collapse: collapse;
}

table, th, td {
    border: 1px solid black;
}

td {
    text-align: center;
}
</style>
{% endblock %}

{% block xtrajs %}
  <script type="text/javascript" src="//code.highcharts.com/highcharts.js"></script>
  <script type="text/javascript" src="//code.highcharts.com/highcharts-more.js"></script>
  <script type="text/javascript" src="//code.highcharts.com/modules/no-data-to-display.js"></script>
{% endblock xtrajs %}

{% block content %}
<h1>Manage Phase Zero (Student Lottery) for {{program.niceName}}</h1>

<center>
{% include "program/modules/bigboardmodule/bigboard_graph.html" %}
</center>

<hr>
<center>
<h2>
<u>To Run Student Lottery:</u>
</h2>
(Do not do this unless you know what you are doing)

</br></br>
{% if error %}<p><font color="red">{{ error }}</font></p>{% endif %}
{% if success %}<p><font color="blue">{{ success }}</font></p>{% endif %}
<form action="#" method="POST">
<!--<b>Specify Role Name for Winners: </b>--><input type="hidden" name="rolename" value="{{role}}"></br></br>
<input type="checkbox" name="confirm">  I confirm that I would like to run the student lottery.</br></br>
<input type="submit" style="float:none" value="Run Student Lottery" />
</form>
</center>

{% if stats %}
<hr>
<center><h2><u>Lottery Statistics</u></h2></center>
<table align="center" width="500">
    <tr>
	    <th>Grade</th>
	    <th># in Lottery</th>
        <th># Accepted</th>
        <th>% Accepted</th>
	</tr>
	{% for grade, stat in stats.items %}
        <tr>
            <td>
                {{ grade }}
            </td>
            <td>
                {{ stat.in_lottery }}
            </td>
            <td>
                {{ stat.num_accepted }}
            </td>
            <td>
                {{ stat.per_accepted }}
            </td>
        </tr>
    {% endfor %}
</table>
{% endif %}
{% endblock %}

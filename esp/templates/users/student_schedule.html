
<p>
Below is your class schedule for {{ program.niceName }}.  Please use the links in the right-hand column to select classes to fill each time slot.  You may also <a href='/learn/{{one}}/{{two}}/catalog'> register directly from the full catalog</a>.
</p>

<p>Your classes are saved immediately when you click the "Add this Class!" button.  You do not need to confirm or save your entire registration
to save your spot in classes.</p>

<p><b>Please note:</b> You must take a one hour lunch break on each day, either from 12 to 1 PM, or from 1 to 2 PM.</p>

{% if not module.deadline_met %}
    <center>
    <div class="note">
    Note: Student registration is no longer open. Please use this page to view your schedule. {% if completedAll %}You can still click `Save' to view your receipt. {% endif %}
    </div>
    </center>
    <br />
{% endif %}

<link rel="stylesheet" type="text/css" href="/media/styles/forms.css" />

<div id="program_form">
<table cellpadding="3" style="width: 600px; margin: auto" border=1>
<tr>
    <th colspan="3">
    Classes for {{request.user.first_name}} {{request.user.last_name}} - ID: {{request.user.id}}
    </th>
</tr>
{% for timeslot in timeslots %}
    {% ifchanged timeslot.0.start.day %}
        <tr><th class="small" colspan="3" height="3" style="text-align: center;">Classes beginning on {{ timeslot.0.pretty_date }}</th></tr>
    {% endifchanged %}
    {% ifequal timeslot.0.event_type.description "Compulsory" %}
    <tr>
        <td width="25%" valign="top" align="center" class="compulsory_event_time">{{ timeslot.0.short_description }}</td>
        <td colspan="2" class="compulsory_event_desc">{{ timeslot.0.description }}</td>
    </tr>
    {% else %}
    <tr>
        <td width="25%" valign="top" align="center">{{ timeslot.0.short_description }}</td>

        <td style="vertical-align: top !important;">
      {% if timeslot.4 %}
        <i>Lunch</i>
      {% else %}
        {% for cls in timeslot.1 %}
	{% comment %}{% if use_priority %}{% endcomment %}
            {% if not cls.section.verbs|length_is:0 %}
                <i>{% for v in cls.section.verbs %}{{ v.friendly_name }}{% if not forloop.last %}, {% endif %}{% endfor %}:</i>
            {% endif %}
	{% comment %}{% endif %}{% endcomment %}
	{{ cls.section.title }}

            {% if request.user.onsite_local %}
                ({{ cls.section.prettyrooms|join:", " }})
            {% endif %}
            {% if not forloop.last %}<br />{% endif %}
        {% endfor %}
        {% if timeslot.1|length_is:0 %}
            Nothing Selected
        {% endif %}
      {% endif %}
        </td>

        {% if not timeslot.1|length_is:0 %}
            {% if module.deadline_met %}
            <td width='25%' align='center' style="vertical-align: top !important;">
            {% for cls in timeslot.1 %}
                <a href="/learn/{{one}}/{{two}}/clearslot/{{timeslot.0.id}}?sec_id={{ cls.section.id }}">[remove]</a>
                {% if cls.changeable %}
                    <a href="/learn/{{one}}/{{two}}/changeslot/{{timeslot.0.id}}?sec_id={{ cls.section.id }}">[change section]</a>
                {% endif %}
                <br />
            {% endfor %}
            {% if timeslot.3 %}
                <a href="/learn/{{one}}/{{two}}/fillslot/{{timeslot.0.id}}">[add class]</a>
                {% if not timeslot.1|length_is:1 %}
                    <a href="/learn/{{one}}/{{two}}/clearslot/{{timeslot.0.id}}">[clear slot]</a>
                {% endif %}
            {% endif %}
            </td>
            {% else %}
            <!-- Allow removal of classes if the appropriate flag is set -->
            {% if allow_removal %}
            <td width='25%' align='center' style="vertical-align: top !important;">
            {% for cls in timeslot.1 %}
                <a href="/learn/{{one}}/{{two}}/clearslot/{{timeslot.0.id}}?sec_id={{ cls.section.id }}">[remove]</a><br />
            {% endfor %}
            </td>
            {% endif %}
            {% endif %}
        {% else %}
          <td width='20%' align='center'>
          {% if timeslot.4 %}
              -
          {% else %}
            {% if module.deadline_met %}
                <a href="/learn/{{one}}/{{two}}/fillslot/{{timeslot.0.id}}">[add class]</a>
            {% endif %}
          {% endif %}
          </td>
        {% endif %}
    </tr>
    {% endifequal %}
{% endfor %}

</table>
</div>
<br/>
